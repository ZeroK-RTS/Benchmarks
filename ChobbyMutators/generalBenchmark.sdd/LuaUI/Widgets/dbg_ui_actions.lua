function widget:GetInfo()
	return {
		name      = "UI Actions",
		desc      = "Takes UI actions for benchmarking.",
		author    = "GoogleFrog",
		date      = "9 Feb 2020",
		layer     = 0,
		enabled   = true,  --  loaded by default
	}
end

local ACTIVE = true

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------


local SELECTION_GAP = 3*30
local selectFrame = 5*30
local haveSelected = false

local allUnits

local CAMERA_GAP = 1.5*30
local cameraFrame = 3*30 + CAMERA_GAP/2
local cameraPos = 1
local cameraTable = {
	3019, 3199, 3065, 2843, 2809, 2988, 2971, 3000, 3103, 2871, 2812, 2895, 3110, 2968, 2888,
	3090, 3161, 3162, 3039, 2917, 2810, 3198, 2827, 2926, 3051, 3082, 3126, 2928, 3098, 3055,
	2899, 2980, 2878, 3008, 2967, 3101, 3052, 2880, 3076, 3010, 3132, 2893, 2987, 2991, 2931,
	3017, 2938, 2884, 3186, 3078, 2955, 3074, 2934, 2826, 2839, 3044, 2873, 3018, 2826, 2984,
	2817, 3057, 2923, 2988, 2912, 2820, 2971, 3026, 3059, 2917, 3032, 3008, 3067, 3199, 2876,
	2864, 2827, 2805, 2984, 3130, 3111, 3114, 2810, 3118, 3094, 3172, 2800, 2817, 2936, 3005,
	3102, 2916, 3178, 3129, 3089, 3013, 2945, 3157, 2858, 2840, 3091, 2810, 3016, 2913, 3156,
	2950, 2982, 3146, 3185, 2995, 3167, 3061, 3127, 2877, 3064, 2924, 3054, 3061, 2818, 2888,
	3148, 3041, 3024, 2855, 3118, 3103, 3088, 2864, 3191, 3072, 2922, 3056, 3025, 2816, 3013,
	3156, 2921, 2886, 2903, 3083, 3166, 2916, 2813, 2940, 2964, 2884, 3101, 2983, 2881, 2807,
	3120, 2857, 3165, 3098, 2814, 2842, 2861, 3083, 2880, 3165, 2886, 2944, 3085, 3136, 3188,
	3014, 2991, 3105, 2955, 3082, 2949, 2879, 3146, 2958, 3051, 3189, 3029, 2874, 2911, 3077,
	2844, 3057, 2898, 2959, 3159, 2976, 3029, 3044, 3093, 2896, 3091, 2854, 2881, 3199, 2922,
	2851, 2819, 3115, 3143, 3187, 2870, 3078, 3149, 3053, 3132, 3154, 3116, 2857, 3084, 2903,
	2843, 2812, 3164, 2972, 3033, 2919, 2891, 2976, 2867, 2850, 3129, 2892, 3130, 3155, 3138,
	3186, 2857, 2878, 3045, 3104, 3152, 2849, 2853, 3154, 3058, 2874, 3051, 2852, 2932, 3156,
	3096, 2905, 2854, 3021, 3185, 3168, 3050, 2937, 3146, 3110, 2993, 3021, 2845, 3007, 2889,
	2809, 2866, 2954, 2978, 2891, 3148, 2871, 3013, 3138, 2900, 2994, 3128, 3037, 2831, 3003,
	3194, 3109, 3106, 3051, 3084, 2924, 3053, 3021, 3168, 3023, 2936, 2960, 3138, 2862, 2954,
	2867, 2894, 2908, 3002, 2880, 2912, 3081, 2914, 2949, 2970, 3167, 3098, 3137, 2921, 3166,
	3060, 3172, 2844, 2986, 3131, 2843, 3043, 2906, 3052, 2973, 2892, 2865, 3133, 2982, 3071,
	2825, 2847, 3002, 3169, 2991, 3029, 3012, 2941, 3187, 3000, 2834, 2859, 2982, 2938, 3104,
	3179, 3013, 2879, 3063, 2858, 3110, 2807, 3090, 2934, 2992, 3001, 2939, 3156, 3074, 2961,
	2967, 3063, 2975, 3100, 3169, 3168, 3063, 3006, 2865, 3083, 2929, 3088, 2909, 2956, 2894,
	3168, 3089, 2995, 3126, 2830, 3165, 2876, 2816, 2962, 3122, 2987, 2884, 2898, 2980, 3136,
	3006, 2930, 2813, 3181, 2874, 3096, 3008, 2817, 3199, 3111, 2891, 2914, 2801, 2890, 3184,
	3071, 2847, 3092, 2964, 3005, 2922, 2941, 3168, 3144, 2971, 3195, 3185, 2954, 3168, 3142,
	2952, 2922, 3096, 3023, 3061, 2865, 3161, 3196, 2866, 2836, 2989, 2906, 2868, 2867, 3174,
	3048, 3129, 2872, 2875, 2867, 2806, 2963, 3087, 3122, 3146, 3009, 2825, 3147, 3137, 3034,
	3198, 2956, 2813, 2954, 3153, 2856, 2888, 3187, 2987, 3188, 2898, 2927, 3041, 2865, 3103,
	3016, 2974, 2812, 2946, 2952, 2902, 3115, 3162, 3089, 3084, 2841, 2983, 2972, 2997, 2864,
	3087, 2813, 2903, 3144, 2919, 3053, 3165, 3010, 2953, 3091, 2904, 2821, 2800, 2883, 2958,
	3092, 2834, 2878, 3019, 3129, 3034, 3169, 2871, 3079, 2947, 3108, 3009, 3080, 3026, 2865,
}

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
-- Logging

function widget:Update(dt)
	if not ACTIVE then
		return
	end

	local frame = Spring.GetGameFrame()
	
	if (frame > cameraFrame) then
		cameraFrame = cameraFrame + CAMERA_GAP
		
		local px = cameraTable[cameraPos]
		cameraPos = cameraPos%500 + 1
		local height = cameraTable[cameraPos]
		cameraPos = cameraPos%500 + 1
		
		Spring.SetCameraState({
			px = px,
			py = 91.71875,
			pz = 3596,
			flipped = -1,
			dx = 0,
			dy = -0.8945,
			dz = -0.4472,
			name = "ta",
			zscale = 0.5,
			height = height,
			mode = 1,
		}, CAMERA_GAP/50)
	end
	
	if (frame > selectFrame) then
		selectFrame = selectFrame + SELECTION_GAP
		allUnits = allUnits or Spring.GetTeamUnits(0)
		
		if haveSelected then
			Spring.SelectUnitArray({})
		else
			local toSelect = {}
			for i = 1, #allUnits do
				if math.random() > 0.5 then
					toSelect[#toSelect + 1] = allUnits[i]
				end
			end
			Spring.SelectUnitArray(toSelect)
		end
		haveSelected = not haveSelected
		WG.ToggleShoweco()
	end
end

